ä»¥ä¸‹æ˜¯ç‚ºä½ çš„ GitHub å°ˆæ¡ˆæ’°å¯«çš„ README æ–‡ä»¶ï¼Œåˆ†ç‚ºä¸­æ–‡ç‰ˆèˆ‡è‹±æ–‡ç‰ˆï¼Œå…§å®¹æ¶µè“‹ï¼š

* å°ˆæ¡ˆèªªæ˜
* å¿«é€Ÿå•Ÿå‹•æŒ‡å—
* æª”æ¡ˆçµæ§‹èªªæ˜
* æ¨¡çµ„å•Ÿç”¨è¨­å®šæ–¹å¼
* è¨»æ˜ç”± ChatGPT ç”Ÿæˆ

---

## ğŸ‡¹ğŸ‡¼ ä¸­æ–‡ç‰ˆï¼šModbus TCP â†” MQTT æ•´åˆå®¹å™¨

# docker-compose-python-modbus-mqtt

> ğŸ“¦ Docker Compose å°ˆæ¡ˆï¼šPython + Modbus TCP + MQTT æ•´åˆ
> âœ¨ æœ¬å°ˆæ¡ˆ README ç”± [ChatGPT](https://openai.com/chatgpt) è‡ªå‹•ç”Ÿæˆèˆ‡å„ªåŒ–

---

## ğŸ“˜ å°ˆæ¡ˆç°¡ä»‹

æœ¬å°ˆæ¡ˆä»¥ `docker-compose` ç®¡ç†ä¸€å€‹è¼•é‡ç´š Python å®¹å™¨ï¼Œæ”¯æ´é€é **Modbus TCP** é€šè¨Šå¾è£ç½®è®€å–æ•¸æ“šï¼Œå†è½‰ç™¼è‡³ **MQTT** Brokerï¼ˆä¾‹å¦‚ Home Assistantï¼‰
ç›®å‰æ”¯æ´çš„æ¨¡çµ„æœ‰ï¼š

* `module_switch.py`ï¼šæ§åˆ¶ç¹¼é›»å™¨/é–‹é—œç‹€æ…‹
* `module_temp.py`ï¼šè®€å–æº«åº¦ 

---

## ğŸš€ å¿«é€Ÿå•Ÿå‹•

### 1ï¸âƒ£ å®‰è£ Python å¥—ä»¶ï¼ˆDocker å…§éƒ¨ï¼‰

```bash
docker compose run python:3.11-slim
pip install -r requirements.txt
# æˆ–æ‰‹å‹•å®‰è£ï¼š
pip install paho-mqtt==2.1.0 pymodbus==3.5.0
```

### 2ï¸âƒ£ å•Ÿå‹•æœå‹™

```bash
docker compose up -d
```

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
.
â”œâ”€â”€ docker-compose.yaml      # Docker Compose é…ç½®
â”œâ”€â”€ Dockerfile               # å»ºç«‹ Python å®¹å™¨æ˜ åƒ
â”œâ”€â”€ requirements.txt         # Python å¥—ä»¶éœ€æ±‚
â””â”€â”€ app/
    â”œâ”€â”€ main.py              # ä¸»æ§åˆ¶å™¨ï¼Œè² è²¬æ¨¡çµ„å•Ÿç”¨/åŸ·è¡Œ
    â”œâ”€â”€ module_switch.py     # é–‹é—œæ§åˆ¶æ¨¡çµ„
    â””â”€â”€ module_temp.py       # æº«åº¦æ¨¡çµ„
```

---

## âš™ï¸ æ¨¡çµ„è¨­å®šèªªæ˜

`app/main.py` å…§çš„æ¨¡çµ„è¨­å®šï¼š
slave ç«™è™Ÿè¦åŒ¹é…

```python
modules = {
  "switch": {"enable": True, "slave_id": 3},
  "temp":   {"enable": False, "slave_id": 1}
}
```

* `enable: True` â†’ å•Ÿç”¨æ¨¡çµ„ï¼ˆè‡ªå‹•é€£ç·š Modbus ä¸¦ä¸Šå ± MQTTï¼‰
* `enable: False` â†’ åœç”¨è©²æ¨¡çµ„ï¼ˆä¸åŸ·è¡Œï¼‰

---


---

## ğŸ§  æœ¬å°ˆæ¡ˆç”± ChatGPT å”åŠ©æ’°å¯«èˆ‡å„ªåŒ–

ä½ å¯ä»¥æ”¾å¿ƒä½¿ç”¨æ­¤ READMEï¼Œæœªä¾†äº¦å¯è«‹ ChatGPT å”åŠ©æ“´å……æ¨¡çµ„ã€‚

---

## ğŸ‡ºğŸ‡¸ English Version

# docker-compose-python-modbus-mqtt

> ğŸ“¦ Docker Compose Project: Python + Modbus TCP + MQTT
> âœ¨ README generated and optimized by [ChatGPT](https://openai.com/chatgpt)

---

## ğŸ“˜ Introduction

This project runs a lightweight Python container using `docker-compose`, enabling data acquisition from Modbus TCP devices and publishing to an MQTT broker (such as Home Assistant).

Currently supported modules:

* `module_switch.py`: Switch / relay control
* `module_temp.py`: Temperature reading

---

## ğŸš€ Quick Start

### 1ï¸âƒ£ Install Python packages (inside container)

```bash
docker compose run python:3.11-slim
pip install -r requirements.txt
# Or manually:
pip install paho-mqtt==2.1.0 pymodbus==3.5.0
```

### 2ï¸âƒ£ Launch the container

```bash
docker compose up -d
```

---

## ğŸ“ Project Structure

```
.
â”œâ”€â”€ docker-compose.yaml      # Docker Compose configuration
â”œâ”€â”€ Dockerfile               # Dockerfile for the Python image
â”œâ”€â”€ requirements.txt         # Required Python packages
â””â”€â”€ app/
    â”œâ”€â”€ main.py              # Main controller, loads modules
    â”œâ”€â”€ module_switch.py     # Switch control module
    â””â”€â”€ module_temp.py       # Temperature module (disabled)
```

---

## âš™ï¸ Module Configuration

In `app/main.py`, the module control section:
slave: yourdevice number

```python
modules = {
  "switch": {"enable": True, "slave_id": 3},
  "temp":   {"enable": False, "slave_id": 1}
}
```

* `enable: True` â†’ Enable the module (reads Modbus and publishes via MQTT)
* `enable: False` â†’ Disable the module

---

## â— Note


---

## ğŸ§  README generated by ChatGPT

This document was written and refined using ChatGPT to assist with clarity and formatting.

---

æ˜¯å¦éœ€è¦æˆ‘å¹«ä½ ç›´æ¥ç”Ÿæˆ `README.md` æª”æ¡ˆï¼Ÿæˆ–è€…è£œä¸Š `JKBMS` æ¨¡çµ„å®Œæˆå¾Œå†æ›´æ–°ï¼Ÿ

